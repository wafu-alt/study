출처 : 엘리스 SW엔지니어 트랙



# 1. 실행컨텍스트와 스코프

- 참조할 수 있는 유효범위를 의미
- 전역, 지역 스코프

### 중괄호 → 블록이 경계선이 된다

```jsx
let x = 0; //글로벌

	function ex1() { //지역2
	let x = 1;

		function ex2() { // 지역1
		let x = 2;
		}
	ex2();
}
ex1();
```
## 실행컨텍스트(Execution Context) 란?

- 실행 가능한 코드가 실행되기 위해 필요한 환경(객체형태) : 실행환경 , 자바스크립트 돌아가는 환경
- 변수, 함수, 스코프(scope), this
- 코드를 형상화하고 구분하는 추상적 개념임(찍어서 확인하기가 힘듬)
- 코드가 실행시 생성되고, 완료되면 소멸됨

### 3가지 종류

- 전역 실행 컨텍스트(Global Execution Context)
- 함수 실행 컨텍스트(Function Execution Context)
- ~~Eval 실행컨텍스트(Eval Execution Context)~~ - 거의 안씀

## 스택구조

```jsx
function ex1() {
	function ex2() {}
	ex2();
}
ex1();//호출해야 실행 컨텍스트에 쌓임
```
![1](https://user-images.githubusercontent.com/83447120/177237449-5609606e-3b2d-4874-9846-f5981c398835.jpg)
- 글로벌은 무조건 생겨서 밑에 깔려 있음

## 실제로어떤값이들어있나?

- 추상적 개념이므로 추상적으로 객체처럼 표현한 것임!
- 컨텍스트가 만들어지는 상황에 따라 값이 바뀌어 들어갈 예정

```jsx
"Context": {
	variableObject: { //모든 변수가 들어감
		arguments: null, //변수 넘겨 받는 곳
		variable: [...], //담기는 곳
	},
	scopeChain: ["해당 되는 스코프"],
	this: "함수가 호출된 형태에 따라 할당"
}
```

## Lexical Scope

- 함수 호출이 아닌 함수 선언한 곳을 기준으로 스코프를 결정 : 정적 스코프
- 지역 스코프내에서  전역 스코프에 접근 불가

```jsx
let x = 0;

//실행
function ex1() { 
	let x = 1;
	console.log(x); //1
	ex2(); //호출 //1(x) -> 0
}

//실행 선언이 글로벌에서 되었기 때문에 
//funcEx1의 x=1접근 못함
function ex2() { 
	console.log(x);
}
ex1(); //호출
```
## Scope Chain

- 클로저가 가능한 기본 개념

```jsx
let x = 1;
let y = 2;
	function ex1() {
		let x = 3;
		function ex2() {
			console.log(x); //3 ex1에 영향 받음
			console.log(y); //2 
		//ex1은 y값이 따로 설정 안되어있어서 글로벌을 가져옴
		//앞쪽 스코프를 가져온다고 해서 chain
	}
	ex2();
}
ex1();
```

- 함수 선언(정의)될 때 메모리에 담기는데 scope가 (생성)결정이 됨
- 스코프의 레퍼런스가 차례로 저장된 리스트

