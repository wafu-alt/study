인프런 강의 : **[넓고 얕게 외워서 컴공 전공자 되기](https://inf.run/7Dpa) - 널널한 개발자**

## 하드웨어

CPU와 Mainboard 하드웨어 부분을 알면 컴퓨터 구조를 알 수 있고, 운영체제에도 영향을 받는다.

단자 = 인터페이스

### CPU 상세정보 [예시](https://prod.danawa.com/info/?pcode=32038667&cate=112747&adinflow=Y#bookmark_product_information)
![image](https://github.com/wafu-alt/study/assets/83447120/a81a9ce0-ae0f-4a10-81ac-a72b1ffa746d)


소켓 구분 : 메인보드와 물리적인 호환성

제조 공정 : 

- 반도체의 제작과정이고, 트랜지스터와 트랜지스터와의 거리
    - CPU는 트랜지스터라는 반도체로 만들어짐
    - 반도체는 주로 실리콘으로 만들어짐
    - 실리콘은 (규소+산소)전자4개 (실리콘)원자1로 구성
    - 실리콘은 안전정적인 구조 최외각 전자 8개일 때 전자가 이동되지 않아서 전류가 안 흐름
    - 전자 1개를 부족하거나 추가해서 전기를 통하게 만들 수 있음
        - 전자 1개 추가 : P(Positive)형 반도체
        - 전자 1개 부족 : N(Negative)형 반도체
    - 트랜지스터 : 전기가 흐르게 할 수 있게 못할 수 있게 하는 스위치
    - 트랜지스터로 논리회로를 만들 수 있고 AND, OR, NOT, XOR을 만들 수 있다
    - 트랜지스터로 2진법이 완성된다.
- 공정이 미세하고, 트랜지스터의 집적도가 높아지면 성능⬆️ 전력소모⬇️ 발열량⬇️
코어 수 : 동시에 처리할 수 있는 수

쓰레드 수 : CPU내부의 실질적 업무 수행하는 가장 작은 논리적 단위

- CPU 1코어 당 1쓰레드로 업무가 가능하다
- 인텔은 하이퍼스레딩이라는 기술로 1코어가 2쓰레드를 가지고 동시 처리가능하다
    - 하이퍼스레딩(Hyper-Threading Technology) : 운영체제에서 CPU 코어 한 개당 스레드가 하나씩 추가되어 싱글 코어에서 두개의 CPU가, 듀얼 코어에서 네 개의 CPU가 장착된 것으로 인식(코어 당 2개)하는 기술
    - 이 기술을 사용할 경우 기존의 물리 코어의 개념은 없어지고 논리 코어로만 작동하게 되는데 사용 환경과 프로그램에 따라 성능이 향상.
    - 특히 다중 작업에서 유리함

기본 클럭(주파수) : 

- CPU 동작 속도, 0과 1의 구분을 초당 몇번 할 수 있는지 수치
- 1GHz 10억번 의미하고, 40억번 이상 구분 가능
- IPC : 클럭 당 명령어 처리 횟수
- SIMD : 하나의 명령어에 의해 여러 개의 데이터를 처리하는 기술
- 단순히 클럭 수로 CPU 동작속도를 비교하긴 어렵지만 대략적인 성증 지표로는 삼을 수 있음

L2 캐시 

- CPU 내부에서 임시로 사용하는 버퍼(Buffer) 메모리 중 하나
- level 2의 약자, PC에 장착된 메모리와 CPU 사이에서 동작하며, CPU가 데이터를 처리하는 동안 다음에 처리할 내용을 메인 메모리로부터 불러와 대기하는 곳이 L2 캐시 메모리

L3 캐시

- L3 캐시 메모리도 L2 캐시 메모리와 마찬가지로 CPU 안에 내장되어 있는 일종의 임시 메모리
- 다중 코어 CPU의 경우 L2 캐시는 코어마다 하나씩 들어있으나 L3 캐시 메모리는 CPU 전체에서 하나만 존재
- Level 3 캐시 메모리라고도 하며, PC에 장착되어 있는 메인메모리에서 CPU에 처리해야 할 데이터를 보낼 때 가장 먼저 지나게 되는 임시 저장소

연산 체계

- 내부에서 데이터 처리를 위해 계산할 때 한 번에 처리하는 데이터의 크기를 말함
- 8비트 CPU라 함은 CPU가 한 번에 8비트 단위로 데이터를 처리할 수 있다는 뜻
- 64비트 CPU는 264B(약 16EB)까지 메모리를 관리할 수 있는데, 이는 사실상 무한대에 가까운 수치

버스 속도

- 버스는 컴퓨터 구성 요소들 간 또는 컴퓨터들 간에 데이터를 전송하는 하위 시스템
- 종류로는 CPU와 메모리 컨트롤러 허브 간에 데이터를 전달하는 FSB, 컴퓨터 메인보드의 인텔 I/O 컨트롤러 허브와 인텔 통합 메모리 컨트롤러 사이의 상호 연결인 DMI, CPU와 통합 메모리 컨트롤러 간 지점간 상호 연결인 QPI 등 ⇒ CPU와 메인보드에 있는 칩셋 사이에 데이터를 주고 받을 때 사용하는 통로의 너비
- 이 대역폭은 CPU의 성능이 빨라짐과 함께 동시에 커짐
그래야 CPU가 처리한 데이터를 빨리 내보내고 그와 동시에 CPU가 처리해야할 데이터를 보낼 수 있음
- 표현하는 단위는 T/s( Transfer to second의 약자이며 초당 전송률)
- 인텔에서 사용하는 CPU 대역폭은 QPI와 DMI, UPI가 있으며
 AMD는 UMI와 HT를 사용
    
    ![다나와 참조](https://github.com/wafu-alt/study/assets/83447120/bfb86e37-726a-4f55-bf5e-c9c86118d4ed)

    노란 형광색 부분) - CPU와 메인보드 칩셋 사이에서 데이터를 주고 받는 통로를 말함
    
    ![다나와 참조](https://github.com/wafu-alt/study/assets/83447120/d59636b9-c9a7-4df5-a8d2-2c8803e930d6)

PBP/MTP

- 전력소모 표기 방식
    - TDP : 열 설계 전력, 기본 클럭으로 장시간 활용 시 쿨링에 필요한 전력 → 실제 CPU 소비 전력은 더 높음
    - PBP(인텔) : 프로세스 기본 전력, 기본 클럭으로 작동 시 소비전력
    - MTP(인텔) : 최대 터보 전력, 부스트 클럭으로 작동시 소비 전력 → 순정 상태에서도 순간적으로 더 높은 전력을 소비할 수도 있음
    - PPT(AMD) : 패키지 전력 추적, CPU가 사용하는 최대 전력
- 인텔은 12세대 CPU 까지는 TDP(Thermal Design Power)열설계전력을 사용하여 CPU의 소비전력과 배출하는 열량을 표기
    - TDP는 기본 클럭으로 제한된 조건에서의 풀 워크로드를 가정하기 때문에, 워크로드 부하가 커지면 터보 부스트 클럭으로 동작하는 실 환경과 사용전력 및 해소해야 할 열량 어느쪽에서도 차이가 있음
    - 13세대 랩터레이크 부터는 PBP(Processor Base Power)와 MTP(Maximum Turbo Power)로 분리하여 전력 및 해소 열량을 표기하기 시작
- PBP는 CPU가 기본 클럭에서 작동될 때 소모되는 전력으로, 기존 TDP와 유사하다고 보면 되고(PL1 - Power Limit 1)
- MTP는 1초 이상 지속되는 최대 전력 소모를 의미하기 때문에(PL2 - Power Limit 2) 순간적으로 표기된 MTP보다 더 큰 전력이 소모될 수 있음
- CPU의 모든 성능을 활용하고자 할 때, 쿨러는 MTP 보다 100W 가량 넉넉한 TDP를 지원하는 제품을 구비하는 것이 좋음

PCIe 버전

- CPU에서 지원하는 PCIe버전을 뜻함
- PCIe는 주로 NVMe SSD와 그래픽카드를 연결하는 인터페이스로 사용

    ![image](https://github.com/wafu-alt/study/assets/83447120/2bfa3bbc-acb8-4381-9390-16dbe11fe08b)


- NVMe SSD와 그래픽카드의 성능을 온전히 발휘하기 위해서는 각각의 버전을 지원하는 CPU와 메인보드를 구매해야함

최대 PCIe 레인수

- CPU에서 지원하는 PCIe 레인 수
- 레인 수가 많을수록 확장성이 좋음
- PCIe 레인은 CPU가 그래픽카드, 저장장치, 메인보드 등 외부장치와 서로 통신하기 위한 통로
- 하나의 장치가 쓸 수 있는 최대 레인 개수는 x16
    - 고성능의 그래픽카드는 16개의 레인을 모두 사용
    - 가성비 그래픽카드는 그 절반인 8개의 레인만 사용하는 경우도 있음
- 인텔 12세대 및 AMD 4세대 이후 CPU는 M.2 NVMe SSD를 위한 기본 4레인을 확보해두고 있으며, 일반적인 CPU는 그래픽카드 16레인을 합쳐 총 20레인을 지원하는 경우가 많음
    - 만약 그래픽카드를 장착하지 않는다면 남은 16레인을 다른 장치에 할당 할 수 있으며, 반대로 그래픽카드와 M.2를 사용중임에도 추가로 PCIe 슬롯에 다른 장치를 연결할 경우, 그래픽카드의 속도가 x8로 감소
    - 반면 이미 M.2 NVMe SSD 용도로 확보된 4레인은 그래픽카드 등 다른 장치가 사용 할 수 없음
- AMD의 경우 최대 레인 수가 같은 시대에 출시된 인텔 메인보드보다 4레인 많은 것을 알 수 있는데, AMD는 그래픽카드, M.2 용도의 x16 x4 레인 외에 메인보드 칩셋용 4레인이 별도로 할당되어 있기 때문
    - 따라서 AMD CPU가 24(20)레인 으로 표기된 경우, 지원하는 레인 개수는 총 24레인 이지만 메인보드가 4레인을 고정적으로 사용하고 있어, 사용자가 그래픽카드와 M.2에 사용 할 수 있는 PCIe 레인 개수는 20개 라고 해석 할 수 있음    

최대 메모리 크기

- CPU에서 최대로 지원하는 메모리 크기

메모리 규격

- CPU에서 지원하는 메모리 규격
- 메모리 규격이 DDR3 > DDR4 > DDR5로 갈 수록 데이터속도⬆️, 전송속도⬆️ 전력소모 ⬇️
    - DDR : Double Data Rate
        - 클럭 신호의 다운비트와 업비트에서 사이클당 2회에 걸쳐 프로세서로 데이터를 전송
        - SDRAM은 클럭 한 신호에 대해서만 데이터 전송
        - DDR이 메모리 어레이에서 내부 입력/출력 버퍼로 2비트의 데이터를 전송하는 프로세스를 2비트 프리페치prefetch
        - DDR2는 개선된 버스 신호를 이용해 DDR보다 2배 빠르게 작동
            - DDR과 동일한 내부 클록 속도를 사용하지만 향상된 입력/출력 버스 신호를 이용하기 때문에 전송 속도가 더 빠름
            - 실제 내부 동작 클럭
                - DRAM cell의 작동클럭에 물리적 한계가 있어 내부에 여러 cell들에서 나오는 데이터를 저장해두는 버퍼가 있음
                - prefetch buffer라고 부르고 데이터 단위를 4n, 8n, 16n같이 표기
            - 한 주기(cycle)의 동작 - 전송률
                - 실제 데이터를 cpu에게 전송할 때 prefetch buffer를 DRAM cell보다 더 높은 클럭으로 데이터가 나가고 DDR4기준으로 4배의 클럭이 됨(MHz/s , GHz/s)
                - 한 클럭에 두번 데이터 전송으로 *2해서 총 8배 수치로 데이터를 전송 DDR4 : 8n
        - [crucial 참조](https://www.crucial.kr/articles/about-memory/difference-among-ddr2-ddr3-ddr4-and-ddr5-memory)
        
        ![image](https://github.com/wafu-alt/study/assets/83447120/5bba6de8-66b4-4524-9b3b-7dc3bd24780b)

        
    - RAM : Random Access Memory
    - 컴퓨터가 켜지는 순간부터 CPU는 연산을 하고 동작에 필요한 모든 내용이 전원이 유지되는 내내 이 기억장치에 저장
    - 일반적으로 전원이 차단되면 내용이 지워지는 **휘발성** 기억 장치
    - Random Access : “어느 위치에든 똑같은 속도로 접근하여 읽고 쓸 수 있다”는 의미
        
        ![image](https://github.com/wafu-alt/study/assets/83447120/3af7825e-629b-4653-96cc-a5f2a4fef951)

        
    - 동작클럭 : 5600MHz
        - 메모리의 동작 속도를 말함
        - 초당 데이터 전송 수를 말함 Hz/s
        - 동작속도가 클 수록 빠름
        - 실제 내부 동작속도가 아님 (위의 DDR설명 참조)
            
            ![image](https://github.com/wafu-alt/study/assets/83447120/dfac87a3-4e86-4b2a-b727-0f052e15a295)

            
        - MT/s단위 MHz를 기본적으로 사용

메모리 클럭

- CPU가 지원하는 동작 클럭을 말함

메모리 채널

- 메인보드의 지원에 따라 다름
- 메모리를 묶어서 속도를 올려주는 기능
- 주로 2개씩 묶음. 3개나 4개 메모리를 묶어서 속도를 올려줄 수 있음
- CPU가 메모리와 데이터를 주고 받을때 128비트 사용
- 메모리 1개는 64비트를 지원. 2개씩 묶으면 128을 맞출 수 있음

### 1bit와 2수 (다른 말로 디지털)

- 1bit(비트)를 전기 스위치 on / off로 표현
    - on : 1
    - off : 0
- 스위치 4개를 조합하면 4bit
    - 경우의 수는
        - 0000 , 0001 , 0010 , 0011 …. 총 2^4 = 16가지
